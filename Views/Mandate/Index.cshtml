@model IEnumerable<Mandate>
@{
    ViewData["Title"] = "Mandaty";
}
@if (User.Identity.IsAuthenticated)
{
    <body>
        <h1>Spis Wszystkich Mandatów</h1>

        <div class="row">
            <div class="col-md-12 ">
                <table class="table">
                    <thead></thead>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.MandateId)</th>
                        <th>@Html.DisplayNameFor(model => model.RegistrationNumber)</th>
                        <th>@Html.DisplayNameFor(model => model.Street)</th>
                        <th>@Html.DisplayNameFor(model => model.Date)</th>
                        <th>@Html.DisplayNameFor(model => model.Paid)</th>
                        @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
                        {
                            <th>Akcje</th>
                        }
                    </tr>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td class="align-middle">
                                    @Html.DisplayFor(modelItem => item.MandateId)
                                </td>
                                <td class="align-middle text-uppercase">
                                    @Html.DisplayFor(modelItem => item.RegistrationNumber)
                                </td>
                                <td class="align-middle">
                                    @Html.DisplayFor(modelItem => item.Street)
                                </td>
                                <td class="align-middle">
                                    @Html.DisplayFor(modelItem => item.Date)
                                </td>
                                <td class="align-middle">

                                    @Html.DisplayFor(ModelItem => item.Paid)
                                </td>
                                @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
                                {
                                    <td class="align-middle">
                                        <a class="btn btn-success" asp-action="Edit" asp-route-id="@item.MandateId">Edycja</a>
                                        <a class="btn btn-danger" asp-action="Delete" asp-route-id="@item.MandateId">Usuń</a>
                                    </td>
                                }
                            </tr>
                        }
                    </tbody>
                </table>

            </div>
        </div>
        <div class="text-white">
            <a asp-controller="Mandate" asp-action="Create" class="btn btn btn-dark">Dodaj nowy mandat</a>
        </div>
    </body>
}